---
layout:     post
title:      "GitHubæ•°æ®æå–ä¸åˆ†æ"
subtitle:   "è°æ˜¯ä½ å…³æ³¨é¢†åŸŸçš„å¤§ç‰›ï¼Œå“ªä¸ªæ˜¯ä½ é¢†åŸŸå†…çš„æœ€ç«é¡¹ç›®ï¼Œå½“å‰Hot Languageæ˜¯ä»€ä¹ˆ"
date:       2016-10-02
author:     "T.L"
header-img: "img/post-bg-github.jpg"
tags:
    - ç¤¾äº¤ç½‘ç«™æ•°æ®åˆ†æ
    - ç¤¾ä¼šè®¡ç®—
---
GitHubä½œä¸ºå…¨çƒæœ€å¤§çš„ä»£ç æ‰˜ç®¡å¹³å°ï¼Œæ¯å°æ—¶éƒ½æœ‰æˆåƒä¸Šä¸‡ä¸ªé¡¹ç›®äº§ç”Ÿï¼Œä»–ä¸ºå¼€æºä½œå‡ºäº†ä¸å¯ç£¨ç­çš„è´¡çŒ®ã€‚æœ¬æ–‡ä½¿ç”¨äº†NetworkXå¯¹GitHubçš„è¿›è¡Œå›¾å½¢åˆ†æï¼Œé€šè¿‡gitHubçš„ä¸°å¯Œæ•°æ®ï¼Œæ„å»ºå¯ä»¥åœ¨å„ç§ä¸åŒçš„æ–¹å¼ä½¿ç”¨æ•°æ®æ¨¡å‹ã€‚è¿™é‡Œå°†githubç”¨æˆ·ã€ä»£ç ã€ä»“åº“æ„å»ºæˆ[å…´è¶£å›¾](https://en.wikipedia.org/wiki/Interest_graph)ã€‚æœ¬æ–‡åŒ…å«ä¸‰æ–¹é¢:
  
- github å¼€å‘è€…å¹³å°å’Œå¯¹åº”çš„api
- å¦‚ä½•ä½¿ç”¨NetworkXä½œå›¾
- æ„å»ºgithubçš„å…´è¶£å›¾
- å›¾ç®—æ³•

## äº†è§£githubçš„API
åŒTwitterå’ŒFacebookä¸€æ ·ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯è·å–Gitè‡ªå¸¦çš„APIã€‚åœ°å€ï¼šhttps://developer.github.com/v3/  
å…¶ä¸­å¤§éƒ¨åˆ†æˆ‘ä»¬å¹¶ä¸éœ€è¦ï¼Œæˆ‘ä»¬ä»…ä»…å…³æ³¨çš„æ˜¯ç”¨æˆ·å’Œä»“åº“ã€‚æ‰€æœ‰çš„APIè®¿é—®é€šè¿‡HTTPSï¼Œå¹¶ä»https://api.github.comè®¿é—®ã€‚æ‰€æœ‰å‘é€å’Œæ¥æ”¶çš„æ•°æ®æ˜¯JSONã€‚

### åˆ›å»ºAPIè¿æ¥
githubå®ç°äº†[OAuth](http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html)æ¥å£ï¼Œåœ¨æ‹¥æœ‰githubè´¦æˆ·åè·å–APIé€šé“çš„æ–¹å¼æœ‰ä¸¤ç§ã€‚ä¸€ç§å«åšpersonal access token.ä½ å¯ä»¥ä¸ºä½ è‡ªå·±çš„ä½¿ç”¨æˆ–å®ç°çš„Webæµåˆ›å»ºä¸€ä¸ªä¸ªäººè®¿é—®ä»¤ç‰Œï¼Œä»¥å…è®¸å…¶ä»–ç”¨æˆ·æˆæƒä½ çš„åº”ç”¨ç¨‹åºã€‚ä¸€ç§æ˜¯OAuth applicationï¼Œæ‰€æœ‰çš„å¼€å‘äººå‘˜åœ¨å¼€å§‹ä¹‹å‰éƒ½éœ€è¦æ³¨å†Œä»–ä»¬çš„åº”ç”¨ç¨‹åºã€‚æ³¨å†ŒOAuthåº”ç”¨åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„å®¢æˆ·IDå’Œå®¢æˆ·çš„å¯†é’¥ã€‚è¿™é‡Œç®€å•èµ·è§ï¼Œé‡‡ç”¨personal access tokenã€‚ç‚¹å‡»[æ–°å»º](https://github.com/settings/tokens/new)å³å¯ç”Ÿæˆæœ‰å¯¹åº”æƒé™çš„tokenã€‚ç”Ÿæˆå¥½çš„tokenå¦‚ä¸‹æ‰€ç¤ºï¼š  
![](http://oc5ofszxe.bkt.clouddn.com/16-10-2/9660244.jpg)  
å‘apiæ ¹ç›®å½•å‘é€è¯·æ±‚ï¼Œè¯•ä¸€è¯•è¿™ä¸ªtokenè¿æ¥æƒ…å†µï¼š

```shell
curl https://api.github.com/?access_token=$TOKEN
{
  "current_user_url": "https://api.github.com/user",
  "current_user_authorizations_html_url": "https://github.com/settings/connections/applications{/client_id}",
  "authorizations_url": "https://api.github.com/authorizations",
  "code_search_url": "https://api.github.com/search/code?q={query}{&page,per_page,sort,order}",
  "emails_url": "https://api.github.com/user/emails",
  "emojis_url": "https://api.github.com/emojis",
  "events_url": "https://api.github.com/events",
  "feeds_url": "https://api.github.com/feeds",
  "followers_url": "https://api.github.com/user/followers",
  "following_url": "https://api.github.com/user/following{/target}",
  "gists_url": "https://api.github.com/gists{/gist_id}",
  "hub_url": "https://api.github.com/hub",
  "issue_search_url": "https://api.github.com/search/issues?q={query}{&page,per_page,sort,order}",
  "issues_url": "https://api.github.com/issues",
  "keys_url": "https://api.github.com/user/keys",
  "notifications_url": "https://api.github.com/notifications",
  "organization_repositories_url": "https://api.github.com/orgs/{org}/repos{?type,page,per_page,sort}",
  "organization_url": "https://api.github.com/orgs/{org}",
  "public_gists_url": "https://api.github.com/gists/public",
  "rate_limit_url": "https://api.github.com/rate_limit",
  "repository_url": "https://api.github.com/repos/{owner}/{repo}",
  "repository_search_url": "https://api.github.com/search/repositories?q={query}{&page,per_page,sort,order}",
  "current_user_repositories_url": "https://api.github.com/user/repos{?type,page,per_page,sort}",
  "starred_url": "https://api.github.com/user/starred{/owner}{/repo}",
  "starred_gists_url": "https://api.github.com/gists/starred",
  "team_url": "https://api.github.com/teams",
  "user_url": "https://api.github.com/users/{user}",
  "user_organizations_url": "https://api.github.com/user/orgs",
  "user_repositories_url": "https://api.github.com/users/{user}/repos{?type,page,per_page,sort}",
  "user_search_url": "https://api.github.com/search/users?q={query}{&page,per_page,sort,order}"
}
```	
github çš„APIç¬¦åˆ[HATEOAS](https://en.wikipedia.org/wiki/HATEOAS)è®¾è®¡ï¼Œä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæƒ³è·å–å½“å‰ç”¨æˆ·çš„ä¿¡æ¯ï¼Œåº”è¯¥å»è®¿é—®api.github.com/userï¼Œç„¶åå°±å¾—åˆ°äº†ä¸‹é¢ç»“æœã€‚

```	shell
{
"login": "luzhijun",
"id": 15256911,
"avatar_url": "https://avatars.githubusercontent.com/u/15256911?v=3",
"gravatar_id": "",
"url": "https://api.github.com/users/luzhijun",
"html_url": "https://github.com/luzhijun",
...
}
```	

### pygithub
okï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸ªæ–¹ä¾¿pythonä½¿ç”¨çš„åŒ…ï¼Œ[pygithub](http://pygithub.github.io/PyGithub/v1/introduction.html),ä½ å¯ä»¥é€šè¿‡å®ƒæ–¹ä¾¿åœ°ç”¨pythonè„šæœ¬ç®¡ç†githubã€‚å…¶APIä¸github[å¯¹åº”](http://pygithub.github.io/PyGithub/v1/apis.html)ã€‚ 
ä¸¾ä¸ªä¾‹å­ï¼Œæ‹¿åˆ°æŒ‡å®šç”¨æˆ·çš„æ‰€æœ‰ä»“åº“:  

```python
from github import Github
# Specify your own access token here
ACCESS_TOKEN = ''
USER = 'luzhijun'
client = Github(ACCESS_TOKEN)
user = client.get_user(USER)
REPOS=user.get_repos()
print(list(REPOS))
```
>[Repository(full_name="luzhijun/huxblog-boilerplate"), Repository(full_name="luzhijun/leecode"), Repository(full_name="luzhijun/luzhijun.github.io"), Repository(full_name="luzhijun/Optimization"), Repository(full_name="luzhijun/SVDRecommenderSystem")]

## å¦‚ä½•ä½¿ç”¨NetworkXä½œå›¾

### äº†è§£NetworkX
NetworkXæ˜¯ä¸€ä¸ªç”¨Pythonè¯­è¨€å¼€å‘çš„å›¾è®ºä¸å¤æ‚ç½‘ç»œå»ºæ¨¡å·¥å…·,å†…ç½®äº†å¸¸ç”¨çš„å›¾ä¸å¤æ‚ç½‘ç»œåˆ†æç®—æ³•,å¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œå¤æ‚ç½‘ç»œæ•°æ®åˆ†æã€ä»¿çœŸå»ºæ¨¡ç­‰å·¥ä½œã€‚  
ä¸‹é¢åˆ›å»ºä¸€ä¸ªæœ‰å‘å›¾x->y:

```python
import networkx as nx

# åˆ›å»ºæœ‰å‘å›¾
g = nx.DiGraph()
# åŠ æ¡è¾¹x->y
g.add_edge('X', 'Y')
# æ‰“å°å›¾çš„ç›¸å…³æ•°æ®ä¿¡æ¯
print (nx.info(g),'\n')

print ("Nodes:", g.nodes())
print ("Edges:", g.edges())
# èŠ‚ç‚¹å±æ€§
print ("X props:", g.node['X'])
print ("Y props:", g.node['Y'])
# è¾¹å±æ€§
print ("X=>Y props:", g['X']['Y'])
# æ›´æ–°èŠ‚ç‚¹ä¿¡æ¯
g.node['X'].update({'prop1' : 'value1'})
print ("X props:", g.node['X'])
# æ›´æ–°è¾¹ä¿¡æ¯
g['X']['Y'].update({'label' : 'label1'})
print ("X=>Y props:", g['X']['Y'])
```
>Name:   
Type: DiGraph  #æ— å‘å›¾è¡¨ç¤ºä¸ºGraph
Number of nodes: 2  
Number of edges: 1  
Average in degree:   0.5000  
Average out degree:   0.5000   

>Nodes: ['Y', 'X']  
Edges: [('X', 'Y')]  
X props: {}  
Y props: {}  
X=>Y props: {}  
X props: {'prop1': 'value1'}  
X=>Y props: {'label': 'label1'}

æœ‰å‘å›¾å’Œæ— å‘å›¾éƒ½å¯ä»¥ç»™è¾¹èµ‹äºˆæƒé‡ï¼Œç”¨åˆ°çš„æ–¹æ³•æ˜¯add_weighted_edges_fromï¼Œå®ƒæ¥å—1ä¸ªæˆ–å¤šä¸ªä¸‰å…ƒç»„[u,v,w]ä½œä¸ºå‚æ•°ï¼Œå…¶ä¸­uæ˜¯èµ·ç‚¹ï¼Œvæ˜¯ç»ˆç‚¹ï¼Œwæ˜¯æƒé‡ã€‚ä¾‹å¦‚ï¼š

```python
g.add_weighted_edges_from([('X','Y',10.0)])
print (g.get_edge_data('X','Y'))
```
>{'weight': 10.0, 'label': 'label1'}

NetworkXæä¾›äº†å¸¸ç”¨çš„å›¾è®ºç»å…¸ç®—æ³•ï¼Œä¾‹å¦‚DFSã€BFSã€æœ€çŸ­è·¯ã€æœ€å°ç”Ÿæˆæ ‘ã€æœ€å¤§æµç­‰ç­‰ï¼Œéå¸¸ä¸°å¯Œï¼Œå¦‚æœä¸åšå¤æ‚ç½‘ç»œï¼Œåªä½œå›¾è®ºæ–¹é¢çš„å·¥ä½œï¼Œä¹Ÿå¯ä»¥åº”ç”¨NetworkXä½œä¸ºåŸºæœ¬çš„å¼€å‘åŒ…ï¼Œæ›´å¤šç”¨æ³•å‚ç…§[networkx](http://networkx.github.io)ã€‚

### ä½¿ç”¨NetworkXæ„å»ºå…´è¶£å›¾

å…´è¶£å›¾å’Œç¤¾äº¤ç½‘ç»œå›¾æ˜¯æœ‰åŒºåˆ«çš„ï¼Œæœ€å¤§çš„ä¸åŒå°±æ˜¯å…´è¶£å›¾èŠ‚ç‚¹ä»£è¡¨çš„ä¸ä¸€å®šæ˜¯åŒä¸€ç±»çš„ä¸œè¥¿ã€‚æœ‰ä¸ª[é¡¹ç›®](https://github.com/minrk/findspark)æ˜¯æˆ‘åŠ æ˜Ÿçš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå…´è¶£å›¾å°±æ˜¯ï¼š  
æˆ‘--(gazes)-->é¡¹ç›®  
é‚£ä¹ˆè¿˜æœ‰å…¶ä»–å¾ˆå¤šäººä¹Ÿå…³æ³¨äº†è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬æŠŠåŠ æ˜Ÿçš„äººéƒ½æ‰¾å‡ºæ¥ã€‚

```python
from github import Github
import networkx as nx

ACCESS_TOKEN = ''
USER='minrk'
REPO='findspark'
client = Github(ACCESS_TOKEN)
user = client.get_user(USER)
repo=user.get_repo(REPO)
stargazers=list(repo.get_stargazers())#åŠ æ˜Ÿçš„ç”¨æˆ·é›†åˆ

g = nx.DiGraph()
g.add_node(repo.name + '(repo)', type='repo', lang=repo.language, owner=user.login)

for sg in stargazers:
    g.add_node(sg.login + '(user)', type='user')
    g.add_edge(sg.login + '(user)', repo.name + '(repo)', type='gazes')
# æ‰“å°å›¾çš„åŸºæœ¬å±æ€§   
print (nx.info(g),'\n')
# æ‰“å°é¡¹ç›®å’Œç”¨æˆ·ç‚¹çš„åŸºæœ¬å±æ€§
print (g.node['findspark(repo)'])
print (g.node['luzhijun(user)'],'\n')
# æ‰“å°è¿™æ¡è¾¹å±æ€§
print (g['luzhijun(user)']['findspark(repo)'])
# æ‰“å°èµ·ç‚¹ä¸ºXXXçš„ä¿¡æ¯
print (g['luzhijun(user)'])
print (g['findspark(repo)'])
# æ‰“å°ç”¨æˆ·çš„å‡ºå…¥åº¦ä¿¡æ¯
print (g.in_edges(['luzhijun(user)']))
print (g.out_edges(['luzhijun(user)']))
# æ‰“å°é¡¹ç›®çš„å‡ºå…¥åº¦ä¿¡æ¯
print (g.in_edges(['findspark(repo)']))
print (g.out_edges(['findspark(repo)']))
```
>Name:   
Type: DiGraph  
Number of nodes: 81  
Number of edges: 80  
Average in degree:   0.9877   # 80/81
Average out degree:   0.9877  # 80/81

>{'lang': 'Python', 'type': 'repo', 'owner': 'minrk'}  
{'type': 'user'} 

>{'type': 'gazes'}  
{'findspark(repo)': {'type': 'gazes'}}  
{}  
[]  
[('luzhijun(user)', 'findspark(repo)')]  
[('lendenmc(user)', 'findspark(repo)'), ('nehalecky(user)', 'findspark(repo)'), ('charsmith(user)', 'findspark(repo)'), ('cwharland(user)', 'findspark(repo)'), ('d3borah(user)', 'findspark(repo)'), ('cimox(user)', 'findspark(repo)'), ('dirmeier(user)', 'findspark(repo)'), ('paulochf(user)', 'findspark(repo)'), ('qingniufly(user)', 'findspark(repo)'), ('hmourit(user)', 'findspark(repo)'), ('ryan-williams(user)', 'findspark(repo)'), ('rholder(user)', 'findspark(repo)'), ('xysmas(user)', 'findspark(repo)'), ('linkTDP(user)', 'findspark(repo)'), ('minimaxir(user)', 'findspark(repo)'), ('KLXN(user)', 'findspark(repo)'), ('quadnix(user)', 'findspark(repo)'), ('luzhijun(user)', 'findspark(repo)'), ('chrinide(user)', 'findspark(repo)'), ('jaredmichaelsmith(user)', 'findspark(repo)'), ('rgbkrk(user)', 'findspark(repo)'), ('jiamo(user)', 'findspark(repo)'), ('drizham(user)', 'findspark(repo)'), ('assumednormal(user)', 'findspark(repo)'), ('cvincent00(user)', 'findspark(repo)'), ('xiaohan2012(user)', 'findspark(repo)'), ('dapurv5(user)', 'findspark(repo)'), ('pchalasani(user)', 'findspark(repo)'), ('benetka(user)', 'findspark(repo)'), ('rohithreddy(user)', 'findspark(repo)'), ('seanjensengrey(user)', 'findspark(repo)'), ('opikalo(user)', 'findspark(repo)'), ('amontalenti(user)', 'findspark(repo)'), ('Bekterra(user)', 'findspark(repo)'), ('Grillz(user)', 'findspark(repo)'), ('nchammas(user)', 'findspark(repo)'), ('markbarks(user)', 'findspark(repo)'), ('jesusjsc(user)', 'findspark(repo)'), ('d2207197(user)', 'findspark(repo)'), ('Erstwild(user)', 'findspark(repo)'), ('henridf(user)', 'findspark(repo)'), ('ranjankumar-gh(user)', 'findspark(repo)'), ('locojay(user)', 'findspark(repo)'), ('WilliamQLiu(user)', 'findspark(repo)'), ('szinya(user)', 'findspark(repo)'), ('seanjh(user)', 'findspark(repo)'), ('vherasme(user)', 'findspark(repo)'), ('stared(user)', 'findspark(repo)'), ('freeman-lab(user)', 'findspark(repo)'), ('wy36101299(user)', 'findspark(repo)'), ('esafak(user)', 'findspark(repo)'), ('napjon(user)', 'findspark(repo)'), ('richardskim111(user)', 'findspark(repo)'), ('SimonArnu(user)', 'findspark(repo)'), ('lmillefiori(user)', 'findspark(repo)'), ('binhe22(user)', 'findspark(repo)'), ('robcowie(user)', 'findspark(repo)'), ('jazzwang(user)', 'findspark(repo)'), ('Dumbris(user)', 'findspark(repo)'), ('giulioungaretti(user)', 'findspark(repo)'), ('cbouey(user)', 'findspark(repo)'), ('andrewiiird(user)', 'findspark(repo)'), ('DaniGate(user)', 'findspark(repo)'), ('rdhyee(user)', 'findspark(repo)'), ('lgautier(user)', 'findspark(repo)'), ('sandysnunes(user)', 'findspark(repo)'), ('willcline(user)', 'findspark(repo)'), ('aliciatb(user)', 'findspark(repo)'), ('d18s(user)', 'findspark(repo)'), ('he0x(user)', 'findspark(repo)'), ('liulixiang1988(user)', 'findspark(repo)'), ('alexandercbooth(user)', 'findspark(repo)'), ('branning(user)', 'findspark(repo)'), ('bguOIQ(user)', 'findspark(repo)'), ('coder-chenzhi(user)', 'findspark(repo)'), ('mdbishop(user)', 'findspark(repo)'), ('Hguimaraes(user)', 'findspark(repo)'), ('ocanbascil(user)', 'findspark(repo)'), ('fish2000(user)', 'findspark(repo)'), ('stzonis(user)', 'findspark(repo)')]  
[]

###  NetWorkXéƒ¨åˆ†ç»Ÿè®¡æŒ‡æ ‡
- åº¦ä¸­å¿ƒæ€§ï¼ˆDegree Centrality)
	- æ˜¯åœ¨ç½‘ç»œåˆ†æä¸­åˆ»ç”»èŠ‚ç‚¹ä¸­å¿ƒæ€§ï¼ˆCentralityï¼‰çš„æœ€ç›´æ¥åº¦é‡æŒ‡æ ‡ã€‚ä¸€ä¸ªèŠ‚ç‚¹çš„èŠ‚ç‚¹åº¦è¶Šå¤§å°±æ„å‘³ç€è¿™ä¸ªèŠ‚ç‚¹çš„åº¦ä¸­å¿ƒæ€§è¶Šé«˜ï¼Œè¯¥èŠ‚ç‚¹åœ¨ç½‘ç»œä¸­å°±è¶Šé‡è¦ã€‚æŸç‚¹çš„åº¦ä¸­å¿ƒæ€§$C_d(i)=\frac{d(i)}{n-1}$ï¼ŒèŒƒå›´ä¸º[0,1]ã€‚
		- degree_centrality(G)     Compute the degree centrality for nodes.
		- in_degree_centrality(G)     Compute the in-degree centrality for nodes.
		- out_degree_centrality(G)     Compute the out-degree centrality for nodes.
- ä¸­ä»‹ä¸­å¿ƒæ€§/ä¸­é—´ä¸­å¿ƒæ€§(Between Centrality) ã€‚
	- ä»¥ç»è¿‡æŸä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„æ•°ç›®æ¥åˆ»ç”»èŠ‚ç‚¹é‡è¦æ€§çš„æŒ‡æ ‡ã€‚å¦‚æœä¸¤ä¸ªä¸ç›¸é‚»çš„å‚ä¸è€…kå’Œjæƒ³è¦ä¸å¯¹æ–¹äº’åŠ¨è€Œå‚ä¸è€…iå¤„åœ¨å®ƒä»¬çš„è·¯å¾„ä¸Šï¼Œé‚£ä¹ˆiå¯èƒ½å¯¹å®ƒä»¬ä¹‹é—´çš„äº’åŠ¨æ‹¥æœ‰ä¸€å®šçš„æ§åˆ¶åŠ›ã€‚ä¸­ä»‹æ€§ç”¨æ¥åº¦é‡iå¯¹äºå…¶ä»–ç»“ç‚¹çš„æ§åˆ¶èƒ½åŠ›ã€‚å³å¦‚æœiå¤„åœ¨éå¸¸å¤šç»“ç‚¹çš„äº¤äº’è·¯å¾„ä¸Šï¼Œé‚£ä¹ˆiå°±æ˜¯ä¸€ä¸ªé‡è¦çš„å‚ä¸è€…ã€‚
		- betweenness_centrality(G[, normalized, ...])     Compute betweenness centrality for nodes.
		- edge_betweenness_centrality(G[, normalized, ...])     Compute betweenness centrality for edges.
- æ¥è¿‘ä¸­å¿ƒæ€§ï¼ˆCloseness Centralityï¼‰
	- åæ˜ åœ¨ç½‘ç»œä¸­æŸä¸€èŠ‚ç‚¹ä¸å…¶ä»–èŠ‚ç‚¹ä¹‹é—´çš„æ¥è¿‘ç¨‹åº¦ã€‚è¿™ç§ä¸­å¿ƒæ€§çš„è§‚å¯Ÿè§†è§’ä¸»è¦åŸºäºæ¥è¿‘åº¦æˆ–è€…è·ç¦»ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯å¦‚æœä¸€ä¸ªå‚ä¸è€…èƒ½å¾ˆå®¹æ˜“çš„ä¸æ‰€æœ‰å…¶ä»–å‚ä¸è€…è¿›è¡Œäº’åŠ¨ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸­å¿ƒçš„ã€‚å³å®ƒåˆ°å…¶ä»–æ‰€ä»¥å‚ä¸è€…çš„è·ç¦»è¦è¶³å¤ŸçŸ­ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æœ€çŸ­è·ç¦»æ¥è®¡ç®—è¿™ä¸ªæ•°å€¼ã€‚å‡è®¾å‚ä¸è€…iå’Œå‚ä¸è€…jä¹‹é—´çš„æœ€çŸ­è·ç¦»è®°ä¸º$d(i,j)$ï¼ˆç”±æœ€çŸ­è·¯å¾„ä¸Šçš„é“¾æ¥æ•°ç›®åº¦é‡ï¼‰ã€‚$C_c(i)=\frac{n-1}{\sum_{j=1}^{n}d(i,j)}$
		- closeness_centrality(G[, v, weighted_edges])     Compute closeness centrality for nodes.

ä½œä¸ºå­¦ä¹ ï¼Œæˆ‘ä»¬ä½¿ç”¨[Krackhardt kite graph](http://mathworld.wolfram.com/KrackhardtKite.html)æ¥ç ”ç©¶ï¼Œä¹‹æ‰€ä»¥ç§°ä¹‹ä¸ºé£ç­å›¾ï¼Œå› ä¸ºé•¿å¾—åƒé£ç­ã€‚ã€‚ã€‚(åºŸè¯)  
![](http://oc5ofszxe.bkt.clouddn.com/16-10-2/93702051.jpg)

```python
from operator import itemgetter
kkg = nx.generators.small.krackhardt_kite_graph()
print ("Degree Centrality")
print (sorted(nx.degree_centrality(kkg).items(), 
             key=itemgetter(1), reverse=True),'\n')
print ("Betweenness Centrality")
print (sorted(nx.betweenness_centrality(kkg).items(), 
             key=itemgetter(1), reverse=True),'\n')
print ("Closeness Centrality")
print (sorted(nx.closeness_centrality(kkg).items(), 
             key=itemgetter(1), reverse=True))
```
>Degree Centrality
[(3, 0.6666666666666666), (5, 0.5555555555555556), (6, 0.5555555555555556), (0, 0.4444444444444444), (1, 0.4444444444444444), (2, 0.3333333333333333), (4, 0.3333333333333333), (7, 0.3333333333333333), (8, 0.2222222222222222), (9, 0.1111111111111111)] 

>Betweenness Centrality
[(7, 0.38888888888888884), (5, 0.23148148148148148), (6, 0.23148148148148148), (8, 0.2222222222222222), (3, 0.10185185185185183), (0, 0.023148148148148143), (1, 0.023148148148148143), (2, 0.0), (4, 0.0), (9, 0.0)] 

>Closeness Centrality
[(5, 0.6428571428571429), (6, 0.6428571428571429), (3, 0.6), (7, 0.6), (0, 0.5294117647058824), (1, 0.5294117647058824), (2, 0.5), (4, 0.5), (8, 0.42857142857142855), (9, 0.3103448275862069)]

## æ„å»ºgithubçš„å…´è¶£å›¾

### æ‰¾å‡ºå¤§ç¥
å¤§ç¥ä¸€èˆ¬éƒ½æ˜¯å…³æ³¨è€…å¾ˆé«˜ï¼Œåœ¨ç¤¾åŒºä¸­å¾ˆæ´»è·ƒï¼Œé™¤äº†å‰é¢åŠ æ˜Ÿï¼Œç±»ä¼¼å¾®åšã€facebookï¼Œgithubæˆ‘ä»¬è¿˜æœ‰â€œå…³æ³¨â€å…³ç³»å¯ä»¥ç”¨ï¼Œç°åœ¨å¯¹[å‰é¢](#networkx-1)æ‰©å±•å…³æ³¨å…³ç³»ï¼Œå¯¹æ¯ä¸ªåŠ æ˜Ÿçš„ç”¨æˆ·æ‰©å±•ã€‚è¿™é‡Œç®€å•èµ·è§ï¼Œå…³æ³¨è€…éƒ½æ˜¯ç°æœ‰çš„ç»“ç‚¹ï¼Œä¸å†æ–°å¢ç»“ç‚¹ã€‚     
ç”±äºAPIæ¯å°æ—¶é™åˆ¶ä½¿ç”¨5000ä¸ªè¯·æ±‚ï¼Œæ‰“å°ä¸‹å‰©ä½™è¯·æ±‚æ•°çœ‹æœ‰æ²¡æœ‰è€—å°½ï¼Œè€—å°½çš„è¯æŠ›å‡ºå¼‚å¸¸ã€‚

```python
import sys
for i, sg in enumerate(stargazers):   
    # å¢åŠ å…³æ³¨è”ç³»ï¼Œå¦‚æœæœ‰å…³æ³¨è€…çš„è¯
        try:
        for follower in sg.get_followers():
            if follower.login + '(user)' in g:
                g.add_edge(follower.login + '(user)', sg.login + '(user)', 
                           type='follows')
    except Exception: #ssl.SSLError
        sys.stderr.write( "Encountered an error fetching followers for", \
                             sg.login, "Skipping.")

    print ("Processed", i+1, " stargazers. Num nodes/edges in graph", \
          g.number_of_nodes(), "/", g.number_of_edges())
    print ("Rate limit remaining", client.rate_limiting)
```
>rocessed 1  stargazers. Num nodes/edges in graph 81 / 80  
Rate limit remaining (4999, 5000)  
Processed 2  stargazers. Num nodes/edges in graph 81 / 83  
Rate limit remaining (4987, 5000)  
Processed 3  stargazers. Num nodes/edges in graph 81 / 84  
Rate limit remaining (4985, 5000)  
Processed 4  stargazers. Num nodes/edges in graph 81 / 85  
Rate limit remaining (4983, 5000)  
Processed 5  stargazers. Num nodes/edges in graph 81 / 86  
Rate limit remaining (4981, 5000)  
Processed 6  stargazers. Num nodes/edges in graph 81 / 90  
Rate limit remaining (4968, 5000)  
...  
Rate limit remaining (4857, 5000)  
Processed 78  stargazers. Num nodes/edges in graph 81 / 95  
Rate limit remaining (4856, 5000)  
Processed 79  stargazers. Num nodes/edges in graph 81 / 95  
Rate limit remaining (4855, 5000)  
Processed 80  stargazers. Num nodes/edges in graph 81 / 95  
Rate limit remaining (4854, 5000)  

æ¥ä¸‹æ¥ï¼Œå¯¹å…³è”å…³ç³»ç»Ÿè®¡ã€‚

```python
from operator import itemgetter
from collections import Counter

# çœ‹ä¸‹æ›´æ–°çš„å›¾ä¿¡æ¯
print (nx.info(g),'\n')

# æ¯ä¸ªæ‰“æ˜Ÿç”¨æˆ·çš„å…³æ³¨è€…æ•°é‡ä¸åŒ
print (len([e for e in g.edges_iter(data=True) if e[2]['type'] == 'follows']),'\n')

# æŸ¥çœ‹æŸä¸ªæ‰“æ˜Ÿç”¨æˆ·æœ‰å¤šå°‘å…³æ³¨è€…
print (len([e 
           for e in g.edges_iter(data=True) 
               if e[2]['type'] == 'follows' and e[1] == 'freeman-lab(user)']),'\n')


# æ‰“å°åº¦æœ€å¤šçš„å‰10ä¸ªç»“ç‚¹
print (list(sorted([n for n in g.degree_iter()], key=itemgetter(1), reverse=True)[:10]),'\n')


# å¯¹æ¯ä¸ªæ‰“æ˜Ÿç”¨æˆ·çš„å…³æ³¨è€…æ•°ç›®è®¡æ•°
c = Counter([e[1] for e in g.edges_iter(data=True) if e[2]['type'] == 'follows'])
popular_users = [ (u, f) for (u, f) in c.most_common() if f > 0 ]
print ("Number of popular users", len(popular_users))
print ("Top popular users:", popular_users[:10])
```
>Name: 
Type: DiGraph
Number of nodes: 81
Number of edges: 95
Average in degree:   1.1728
Average out degree:   1.1728 

>15 

>4 

>[('findspark(repo)', 80), ('rgbkrk(user)', 6), ('freeman-lab(user)', 5), ('esafak(user)', 4), ('andrewiiird(user)', 4), ('minimaxir(user)', 3), ('nchammas(user)', 3), ('rholder(user)', 2), ('chrinide(user)', 2), ('dapurv5(user)', 2)] 

>Number of popular users 9
Top popular users: [('freeman-lab(user)', 4), ('rgbkrk(user)', 3), ('minimaxir(user)', 2), ('rholder(user)', 1), ('amontalenti(user)', 1), ('rdhyee(user)', 1), ('stared(user)', 1), ('esafak(user)', 1), ('nchammas(user)', 1)]

('freeman-lab(user)', 4)æŒ‡freeman-labåœ¨findsparké¡¹ç›®ä¸­çš„åŠ æ˜Ÿè€…ä¸­è¿˜æœ‰4ä¸ªå…³æ³¨è€…ï¼Œä¸ºäº†æ›´æ¸…æ¥šæŒ–æ˜å›¾ä¿¡æ¯ï¼Œç”¨ä¸Šé¢ä»‹ç»çš„å‡ ä¸ªå›¾ç®—æ³•æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªå›¾ï¼Œç”±äº'ä»“åº“'ç»“ç‚¹æœ‰å¤§é‡çš„åº¦ï¼Œå…¶ä»–ç»“ç‚¹ç›¸æ¯”æ¥è¯´åº¦éƒ½å¾ˆå°ï¼Œå› æ­¤å…ˆåˆ æ‰'ä»“åº“'ç»“ç‚¹å†è®¡ç®—ã€‚

```python
from operator import itemgetter
h = g.copy()
# ç§»é™¤ä¸­å¿ƒç»“ç‚¹
h.remove_node('findspark(repo)')

dc = sorted(nx.degree_centrality(h).items(), 
            key=itemgetter(1), reverse=True)

print ("Degree Centrality")
print (dc[:10],'\n')
bc = sorted(nx.betweenness_centrality(h).items(), 
            key=itemgetter(1), reverse=True)

print ("Betweenness Centrality")
print (bc[:10],'\n')

print ("Closeness Centrality")
cc = sorted(nx.closeness_centrality(h).items(), 
            key=itemgetter(1), reverse=True)
print (cc[:10])
```
>Degree Centrality  
[('rgbkrk(user)', 0.06329113924050633),   
('freeman-lab(user)', 0.05063291139240506),  
 ('esafak(user)', 0.0379746835443038),   
 ('andrewiiird(user)', 0.0379746835443038),   
 ('minimaxir(user)', 0.02531645569620253),   
 ('nchammas(user)', 0.02531645569620253),   
 ('rholder(user)', 0.012658227848101266),   
 ('chrinide(user)', 0.012658227848101266),   
 ('dapurv5(user)', 0.012658227848101266),   
 ('amontalenti(user)', 0.012658227848101266)] 

>Betweenness Centrality  
[('rgbkrk(user)', 0.0009737098344693282),   
('esafak(user)', 0.0006491398896462187),   
('nchammas(user)', 0.0001622849724115547),   
('linkTDP(user)', 0.0),   
('nehalecky(user)', 0.0),   
('charsmith(user)', 0.0),   
('cwharland(user)', 0.0),   
('d3borah(user)', 0.0),   
('cimox(user)', 0.0),   
('dirmeier(user)', 0.0)] 

>Closeness Centrality  
[('andrewiiird(user)', 0.04050632911392405),   
('esafak(user)', 0.03375527426160337),   
('chrinide(user)', 0.028768699654775604),   
('rgbkrk(user)', 0.02531645569620253),   
('alexandercbooth(user)', 0.02278481012658228),   
('dapurv5(user)', 0.012658227848101266),   
('Bekterra(user)', 0.012658227848101266),   
('nchammas(user)', 0.012658227848101266),   
('he0x(user)', 0.012658227848101266),   
('Hguimaraes(user)', 0.012658227848101266)]  

æ¥ï¼Œæˆ‘ä»¬æ¥è§è§ä¸¤ä½å¤§ç¥ï¼Œä¸€ä½æ˜¯æ•°æ®æ˜¾ç¤ºåº¦ä¸­å¿ƒæ€§å’Œä¸­ä»‹ä¸­å¿ƒæ€§æœ€å¤§çš„rgbkrkã€‚
![](http://oc5ofszxe.bkt.clouddn.com/16-10-2/39580747.jpg)
Kyle Kelleyæ¥è‡ªç¡…è°·ï¼Œæ˜¯jupyterã€ipythonã€cloudpipeç­‰å¤§é¡¹ç›®çš„å¼€å‘ç»„å‘˜ï¼Œå½±å“åŠ›å¾ˆå¤§ã€‚  
å¦ä¸€ä½æ˜¯æ¥è¿‘ä¸­å¿ƒæ€§æœ€å¤§çš„andrewiiirdã€‚
![](http://oc5ofszxe.bkt.clouddn.com/16-10-2/66840395.jpg)
andrewæ¥è‡ªé¦™æ¸¯ï¼Œå…³æ³¨ä¸è¢«å…³æ³¨æ¯”ç‡å‡ ä¹æœ‰ä¸¤ä¸ªæ•°é‡çº§çš„å·®åˆ«ï¼Œè€ŒKyle Kelleyè¿™ä¸ªæ¯”å€¼æ¥è¿‘ä¸€æ¯”ä¸€ï¼Œä¹Ÿæ­£è¯´æ˜äº†andrewçš„â€œäº’åŠ¨æ€§â€å¾ˆå¼ºçš„ã€‚(å¤§éƒ¨åˆ†æ—¶é—´å…³æ³¨åˆ«äººè€Œè‡ªå·±éšè—åœ¨æš—å¤„ï¼ŒğŸ˜œ)  

### æ‰¾å‡ºæ´»è·ƒé¡¹ç›®
ç°åœ¨å›¾ä¸­åªæœ‰ä¸€ä¸ªé¡¹ç›®ï¼Œå…¶ä½™ç»“ç‚¹éƒ½æ˜¯ç”¨æˆ·ã€‚ä¸ºäº†æ‰¾å‡ºæ´»è·ƒé¡¹ç›®ï¼Œå¯¹æ¯ä¸ªç”¨æˆ·ï¼Œéå†æ‰¾å…¶åŠ æ˜Ÿçš„é¡¹ç›®æ·»åŠ åˆ°å›¾ä¸­ï¼Œæ‰©å……å›¾çš„é¡¹ç›®ç»“ç‚¹ã€‚

```python
MAX_REPOS = 500
for i, sg in enumerate(stargazers):
    print (sg.login)
    try:
        for starred in sg.get_starred()[:MAX_REPOS]: # Slice to avoid supernodes
            g.add_node(starred.name + '(repo)', type='repo', lang=starred.language, \
                       owner=starred.owner.login)
            g.add_edge(sg.login + '(user)', starred.name + '(repo)', type='gazes')
    except Exception: #ssl.SSLError:
        print ("Encountered an error fetching starred repos for", sg.login, "Skipping.")

    print ("Processed", i+1, "stargazers' starred repos")
    print ("Num nodes/edges in graph", g.number_of_nodes(), "/", g.number_of_edges())
    print ("Rate limit", client.rate_limiting)
```
>pchalasani  
Processed 1 stargazers' starred repos  
Num nodes/edges in graph 176 / 190  
Rate limit (4996, 5000)  
rgbkrk  
Encountered an error fetching starred repos for rgbkrk Skipping.  
Processed 2 stargazers' starred repos  
Num nodes/edges in graph 266 / 280  
Rate limit (4993, 5000)  
napjon  
Processed 79 stargazers' starred repos  
Num nodes/edges in graph 12692 / 17579  
Rate limit (4369, 5000)  
luzhijun  
Processed 80 stargazers' starred repos  
Num nodes/edges in graph 12693 / 17581  
Rate limit (4368, 5000)  
ä»¥ä¸Šæ“ä½œæŒºè´¹æ—¶é—´çš„ï¼Œç»“ç‚¹æ•°ç”±å‡ ç™¾ä¸ªä¸€ä¸‹å­æ‰©å……åˆ°ä¸Šä¸‡ä¸ªï¼Œå¯ä»¥æŠŠMAX_REPOSæ”¹å°ä¸€ç‚¹ï¼Œç„¶åå»æ³¡æ¯å’–å•¡å§ğŸ˜ã€‚  
æ‹¿åˆ°æ‰€æœ‰é¡¹ç›®æ•°æ®ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¦ç»Ÿè®¡å“ªä¸ªæ˜¯çƒ­ç‚¹é¡¹ç›®ï¼Œå¯ä»¥æŸ¥è¯¢å“ªä¸ªç”¨æˆ·markäº†å“ªäº›é¡¹ç›®ï¼Œä»–å–œæ¬¢ç”¨å•¥ç¨‹åºè¯­è¨€ï¼Œè¿˜æœ‰é‚£äº›åŠ æ˜ŸåŠ åˆ°æ‰‹è½¯çš„ç”¨æˆ·ä¹Ÿå¯ä»¥æŸ¥è¯¢å‡ºæ¥ã€‚  

```python
print (nx.info(g),'\n')
# æ‹¿åˆ°å›¾é‡Œé¢çš„æ‰€æœ‰é¡¹ç›®æ„æˆåˆ—è¡¨
repos = [n for n in g.nodes_iter() if g.node[n]['type'] == 'repo']

# å…³æ³¨æœ€å¤šçš„å‰10ä¸ªé¡¹ç›®
print ("Popular repositories")
print (sorted([(n,d) 
              for (n,d) in g.in_degree_iter() 
                  if g.node[n]['type'] == 'repo'], \
             key=itemgetter(1), reverse=True)[:10])

print "Respositories that luzhijun has bookmarked"
print ([(n,g.node[n]['lang']) 
       for n in g['luzhijun(user)'] 
           if g['luzhijun(user)'][n]['type'] == 'gazes'])

# ç”¨æˆ·å–œçˆ±çš„ç¨‹åºè¯­è¨€

print ("Programming languages luzhijun is interested in")
print (list(set([g.node[n]['lang'] 
                for n in g['luzhijun(user)'] 
                    if g['luzhijun(user)'][n]['type'] == 'gazes'])))
#æŸ¥çœ‹å…³æ³¨é¡¹ç›®æœ€å¤šçš„ç”¨æˆ·(è¶…è¿‡MAX_REPOS)
print ("Supernode candidates")
print (sorted([(n, len(g.out_edges(n))) 
              for n in g.nodes_iter() 
                  if g.node[n]['type'] == 'user' and len(g.out_edges(n)) > MAX_REPOS], \
             key=itemgetter(1), reverse=True))
```
>Name:   
Type: DiGraph  
Number of nodes: 12693  
Number of edges: 17581  
Average in degree:   1.3851  
Average out degree:   1.3851   

>Popular repositories  
[('findspark(repo)', 80), ('spark(repo)', 27), ('tensorflow(repo)', 24), ('luigi(repo)', 21),  ('ipython(repo)', 21), ('data-science-ipython-notebooks(repo)', 20), ('awesome-public-datasets(repo)',   20), ('spark-notebook(repo)', 19), ('docker(repo)', 18), ('Probabilistic-Programming-and-Bayesian-Methods-for-Hackers(repo)', 17)]  

>Respositories that ocanbascil has bookmarked  
[('til(repo)', 'VimL'), ('react-joyride(repo)', 'JavaScript'), ('django(repo)', 'Python'), ('peewee(repo)', 'Python'), ('select2(repo)', 'JavaScript'), ('requests(repo)', 'Python'), ('benfords-law(repo)', 'JavaScript'), ('daterangepicker(repo)', 'JavaScript'), ('django-zappa(repo)', 'Python'), ('layered(repo)', 'Python'), ('coffeescript(repo)', 'CoffeeScript'), ('awesome-jekyll(repo)', None), ('lektor(repo)', 'Python'), ('aetycoon(repo)', 'Python'), ('computer-science(repo)', None), ('PerformanceEngine(repo)', 'Python'), ('pattern_classification(repo)', 'Jupyter Notebook'), ('node-v0.x-archive(repo)', None), ('django-crispy-forms(repo)', 'Python'), ('hug(repo)', 'Python'), ('euler-coffeescript(repo)', 'CoffeeScript'), ('pandas(repo)', 'Python'), ('pachyderm(repo)', 'Go'), ('eulerclash(repo)', None), ('Pipe(repo)', 'Python'), ('data-science-ipython-notebooks(repo)', 'Python'), ('TweetHit(repo)', 'Python'), ('captionmash(repo)', None), ('django-tinymce(repo)', 'Python'), ('dataset(repo)', 'Python'), ('shepherd(repo)', 'CSS'), ('data-science-from-scratch(repo)', 'Python'), ('spark(repo)', 'Scala'), ('data-science-blogs(repo)', 'Python'), ('specter(repo)', 'Clojure'), ('tensorflow(repo)', 'R'), ('findspark(repo)', 'Python'), ('localtunnel(repo)', 'JavaScript')]  

>Programming languages ocanbascil is interested in  
['CSS', 'VimL', 'Python', 'JavaScript', 'Clojure', None, 'CoffeeScript', 'R', 'Jupyter Notebook', 'Scala', 'Go']

>Supernode candidates
[('he0x(user)', 501), ('esafak(user)', 501)]

ä»ç»“æœå¯çœ‹å‡ºï¼Œå…³æ³¨findsparké¡¹ç›®çš„äººå¤§çº¦ä¸‰åˆ†ä¹‹ä¸€ä¹Ÿå…³æ³¨äº†sparkå’Œtensorflowï¼ŒTensorFlowæ˜¯è°·æ­ŒåŸºäºDistBeliefè¿›è¡Œç ”å‘çš„ç¬¬äºŒä»£äººå·¥æ™ºèƒ½å­¦ä¹ ç³»ç»Ÿï¼Œæœºå™¨å­¦ä¹ æœçœŸè¿™ä¹ˆç«çƒ­ã€‚å¤§çº¦å››åˆ†ä¹‹ä¸€çš„äººå…³æ³¨äº†Luigiï¼ŒæŸ¥äº†ä¸‹å…¶ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†è§£å†³éœ€è¦é•¿æœŸè¿è¡Œçš„æµå¼æ‰¹å¤„ç†ä»»åŠ¡çš„ç®¡ç†ï¼Œå¯ä»¥é“¾æ¥å¾ˆå¤šä¸ªä»»åŠ¡ï¼Œä½¿å®ƒä»¬è‡ªåŠ¨åŒ–ï¼Œå¹¶è¿›è¡Œæ•…éšœç®¡ç†ï¼Œè¿™ä¸ªåšsparkä»»åŠ¡çš„äººä¼°è®¡ä¹Ÿéœ€è¦ï¼Œï¼Œåé¢å‡ ä¸ªçœ‹åå­—éƒ½çŸ¥é“å’Œsparkå¯†ä¸å¯åˆ†çš„ã€‚  
é™¤æ­¤ä¹‹å¤–ï¼Œè¿™ä¸ªå›¾è¿˜å¯ä»¥æŸ¥è¯¢åˆ°æŸä¸ªç”¨æˆ·æ‰€å…³æ³¨çš„é¡¹ç›®ä»¥åŠè¿™ä¸ªé¡¹ç›®ä¸­æœ€å¤šçš„è¯­è¨€ã€‚

### æ‰¾å‡ºçƒ­é—¨è¯­è¨€
ç°åœ¨é—®é¢˜æ¥äº†ï¼Œæ€ä¹ˆæŸ¥è¯¢å½“å‰å›¾ä¸­æ‰€æœ‰é¡¹ç›®æœ€çƒ­é—¨çš„è¯­è¨€ï¼Ÿæˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾æ¯ä¸ªé¡¹ç›®ç„¶åæŠ½å–è¯­è¨€æ”¾å…¥åˆ°counterè®¡æ•°å™¨é‡Œé¢ç»Ÿè®¡ï¼Œè¿™ä¸ªçœ‹èµ·æ¥ä¹Ÿä¸è´¹äº‹ï¼Œä½†å¦‚æœè¦æŸ¥è¯¢æœ‰å¤šå°‘ç”¨æˆ·ä»¥æŸç§è¯­è¨€ç¼–ç¨‹å‘¢ï¼Ÿè¿™å°±è¦æ‰«ææ¯ä¸ªé¡¹ç›®çš„å…¥åº¦ç”¨æˆ·ï¼Œæœ€åç»Ÿè®¡æ±‚å’Œï¼Œæ—¶é—´å¤æ‚åº¦æŒºå¤§çš„ã€‚è¿™ä¸ªæ—¶å€™ä¸€ç§å¥½çš„æ€è·¯å°±æ˜¯æ‰©å……å›¾ï¼Œå°†è¯­è¨€å•ç‹¬ä½œä¸ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ€ç»ˆå›¾çš„é€»è¾‘å›¾å¦‚ä¸‹ï¼š   
![](http://oc5ofszxe.bkt.clouddn.com/16-10-2/13761577.jpg)

```python
repos = [n 
         for n in g.nodes_iter() 
             if g.node[n]['type'] == 'repo']

for repo in repos:
    # æ¶ˆé™¤None,æœ‰äº›ç©ºé¡¹ç›®è¯­è¨€ä¸ºNone
    lang = (g.node[repo]['lang'] or "") + "(lang)"
    # åŠ æ˜Ÿäºrepoçš„ç”¨æˆ·
    stargazers = [u 
                  for (u, r, d) in g.in_edges_iter(repo, data=True) 
                     if d['type'] == 'gazes'
                 ]
    for sg in stargazers:
        g.add_node(lang, type='lang')
        g.add_edge(sg, lang, type='programs')
        g.add_edge(lang, repo, type='implements')   
```

æ¥ä¸‹æ¥çœ‹ä¸‹å¯¹è¯­è¨€çš„ç»Ÿè®¡ä¿¡æ¯

```python
print (nx.info(g),'\n')
# çœ‹ä¸‹å›¾é‡Œæœ‰ä»€ä¹ˆè¯­è¨€
print ([n 
       for n in g.nodes_iter() 
           if g.node[n]['type'] == 'lang'])
# æŸä¸ªç”¨æˆ·ä½¿ç”¨çš„è¯­è¨€
print ([n 
       for n in g['ocanbascil(user)'] 
           if g['ocanbascil(user)'][n]['type'] == 'programs'],'\n')
# æŸ¥è¯¢æœ€çƒ­é—¨çš„è¯­è¨€
print ("Most popular languages")
print (sorted([(n, g.in_degree(n))
 for n in g.nodes_iter() 
     if g.node[n]['type'] == 'lang'], key=itemgetter(1), reverse=True)[:10])
# æŸ¥è¯¢ç”¨æŸç§è¯­è¨€çš„æœ‰å¤šå°‘äºº
python_programmers = [u 
                      for (u, l) in g.in_edges_iter('Python(lang)') 
                          if g.node[u]['type'] == 'user']
print ("Number of Python programmers:", len(python_programmers))

javascript_programmers = [u for 
                          (u, l) in g.in_edges_iter('JavaScript(lang)') 
                              if g.node[u]['type'] == 'user']
print ("Number of JavaScript programmers:", len(javascript_programmers))

# ä¸¤ä¸ªè¯­è¨€éƒ½ç”¨çš„äºº
print ("Number of programmers who use JavaScript and Python")
print (len(set(python_programmers).intersection(set(javascript_programmers))))

# åªç”¨pythonä¸ç”¨jsçš„äºº
print ("Number of programmers who use JavaScript but not Python")
print (len(set(javascript_programmers).difference(set(python_programmers))))

# XXX: Can you determine who is the most polyglot programmer?
```
>Name: 
Type: DiGraph
Number of nodes: 12807
Number of edges: 31824
Average in degree:   2.4849
Average out degree:   2.4849 

>['LiveScript(lang)', 'APL(lang)', 'Swift(lang)', 'Java(lang)', 'Nix(lang)', 'Erlang(lang)', 'Common Lisp(lang)', 'Python(lang)', 'GCC Machine Description(lang)', 'Prolog(lang)', 'PigLatin(lang)', 'Vala(lang)', 'SAS(lang)', 'FORTRAN(lang)', 'Cuda(lang)', 'Matlab(lang)', 'HCL(lang)', 'F#(lang)', 'Verilog(lang)', 'Emacs Lisp(lang)', 'Inno Setup(lang)', 'Vue(lang)', 'TeX(lang)', 'DTrace(lang)', 'Processing(lang)', 'Hack(lang)', 'Lua(lang)', 'Assembly(lang)', 'Parrot(lang)', 'Shell(lang)', 'Arduino(lang)', 'R(lang)', 'C#(lang)', 'Rust(lang)', 'Standard ML(lang)', 'Puppet(lang)', 'Gosu(lang)', 'C(lang)', 'PHP(lang)', 'Scala(lang)', 'Gnuplot(lang)', 'Crystal(lang)', 'Objective-J(lang)', 'COBOL(lang)', 'Cucumber(lang)', 'ApacheConf(lang)', 'Brainfuck(lang)', 'Kotlin(lang)', 'Pascal(lang)', 'Pike(lang)', 'RAML(lang)', 'Lean(lang)', 'Logos(lang)', 'Elixir(lang)', 'Dart(lang)', 'C++(lang)', 'CMake(lang)', 'Clojure(lang)', 'D(lang)', 'Batchfile(lang)', 'OpenSCAD(lang)', 'Coq(lang)', 'PowerShell(lang)', 'Visual Basic(lang)', 'VimL(lang)', 'NetLogo(lang)', 'OCaml(lang)', 'VHDL(lang)', 'Ruby(lang)', 'Go(lang)', 'Metal(lang)', 'Jupyter Notebook(lang)', 'KiCad(lang)', 'Smarty(lang)', 'Tcl(lang)', 'CoffeeScript(lang)', 'QML(lang)', '(lang)', 'Scheme(lang)', 'HTML(lang)', 'Makefile(lang)', 'CartoCSS(lang)', 'DIGITAL Command Language(lang)', 'AppleScript(lang)', 'Perl6(lang)', 'Protocol Buffer(lang)', 'Julia(lang)', 'Awk(lang)', 'Elm(lang)', 'Haskell(lang)', 'TLA(lang)', 'Nimrod(lang)', 'JavaScript(lang)', 'Max(lang)', 'TypeScript(lang)', 'GAP(lang)', 'Scilab(lang)', 'Web Ontology Language(lang)', 'XSLT(lang)', 'Objective-C++(lang)', 'Perl(lang)', 'PLSQL(lang)', 'PureScript(lang)', 'PLpgSQL(lang)', 'Eagle(lang)', 'Objective-C(lang)', 'Racket(lang)', 'OpenEdge ABL(lang)', 'Groovy(lang)', 'Groff(lang)', 'Frege(lang)', 'NSIS(lang)', 'Mathematica(lang)', 'CSS(lang)']
>
['JavaScript(lang)', 'R(lang)', 'Python(lang)', 'Jupyter Notebook(lang)', 'VimL(lang)', 'Scala(lang)', 'Clojure(lang)', 'CoffeeScript(lang)', 'Go(lang)', '(lang)', 'CSS(lang)'] 

>Most popular languages  
[('Python(lang)', 80), ('(lang)', 74), ('JavaScript(lang)', 74), ('Jupyter Notebook(lang)', 69), ('Java(lang)', 67), ('HTML(lang)', 67), ('C++(lang)', 66), ('Scala(lang)', 65), ('Shell(lang)', 62), ('C(lang)', 62)]

>Number of Python programmers: 80  
Number of JavaScript programmers: 74  
Number of programmers who use JavaScript and Python  
74  
Number of programmers who use JavaScript but not Python  
0  

ä»ç»“æœçœ‹å‡ºï¼Œgithubä¸Šå–œæ¬¢çš„è¯­è¨€æ’è¡Œæ¦œä¸­jsã€rã€pythonç­‰è„šæœ¬è¯­è¨€å æ®ä¸»æµï¼Œè™½ç„¶å‚ä¸ç»Ÿè®¡çš„é¡¹ç›®åªæœ‰ä¸€ä¸‡å¤šæ¡ï¼Œä½†è¿™ä¹Ÿåº”ç€äº†ä¸€å¥è€è¯â€œgithubæ˜¯å‰ç«¯çš„å¤©ä¸‹â€ğŸ˜ã€‚è¿™é‡ŒScalaçš„å…³æ³¨åº¦ä¹Ÿå¾ˆé å‰ï¼Œä¸»è¦å› ä¸ºâ€œé¡¹ç›®ä¹‹æºâ€æ˜¯findsparkï¼Œgoè¿™é‡Œä¹Ÿå¾ˆç«ï¼Œjavaæ­»å“ªå»äº†ã€‚ã€‚ã€‚ï¼Œä¼°è®¡æŒ–ä¸ªhadoopçš„ç›¸å…³é¡¹ç›®å°±æœ‰ä»–äº†ã€‚ã€‚ã€‚  
å¦ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡æ˜¯ï¼Œç©pythonçš„ç¨‹åºå‘˜å¿…ä¼šç©jsï¼Œç©jsçš„äººä¸ä¸€å®šä¼šç©pythonï¼ˆ80-74=6ä¸ªäººä¸ä¼šç©python)ï¼Œæ­£ç¬¦åˆç°åœ¨ITç•Œçš„ç°çŠ¶å•Šï¼Œè¿™ä¸ªå·®åˆ«ä¸æ˜æ˜¾ï¼Œæ¢ä¸ªå›½å†…çš„é¡¹ç›®ä¼°è®¡å°±æ˜æ˜¾äº†ã€‚ã€‚ã€‚ï¼Œä¼°è®¡è¿˜æœ‰å¤šå°‘äººä¸çŸ¥é“githubï¼Œè¿™é‡Œå°±ç»Ÿè®¡ä¸äº†ã€‚

ä»¥ä¸Šæ•°æ®è§„æ¨¡å¹¶ä¸ç®—å¤§ï¼Œå¦‚æœæœ‰å…´è¶£å¯ä»¥è®¿é—®[GitHub Archive](https://www.githubarchive.org),GitHub Archive æä¾›æµ·é‡å…¨å±€å±‚é¢çš„æ•°æ®ï¼Œè°ƒå¯ä»¥ä½¿ç”¨ä¸€äº›æ¨èçš„â€œå¤§æ•°æ®â€å·¥å…·æ¥æ¢ç´¢å®ƒã€‚

## å¯è§†åŒ–
ä¾é Networkxçš„å¯¼å‡ºèƒ½åŠ›ï¼Œå¯ä»¥é€šè¿‡JSONçš„JavaScriptå·¥å…·åŒ…[D3](https://d3js.org)ä½¿ç”¨ï¼Œä½†ä¹Ÿæœ‰è®¸å¤šå…¶ä»–çš„å·¥å…·åŒ…ï¼Œä½ å¯ä»¥è€ƒè™‘å½“å¯è§†åŒ–å›¾ã€‚[Graphviz](http://www.graphviz.org)æ˜¯é«˜åº¦å¯é…ç½®çš„ç»å…¸å·¥å…·ï¼Œå¯ä»¥è®¾è®¡å‡ºéå¸¸å¤æ‚çš„å›¾å½¢å’Œä½å›¾å›¾åƒã€‚ä¼ ç»Ÿä¸Šåœ¨ç»ˆç«¯ä¸Šè¿è¡Œï¼Œä½†ç°åœ¨ä¹Ÿæœ‰æ”¯æŒå¤§å¤šæ•°å¹³å°çš„ç”¨æˆ·ç•Œé¢ã€‚å¦ä¸€ä¸ªæµè¡Œçš„å¼€æºé¡¹ç›®æ˜¯[Gephi](https://gephi.org)ï¼Œå…¶åœ¨äº¤äº’ä¸Šåšçš„å¾ˆå¥½ï¼Œåœ¨è¿‡å»çš„å‡ å¹´ä¸­Gephiå·²ç»è¿…é€Ÿæµè¡Œï¼Œéå¸¸å€¼å¾—æ¨èã€‚
è¿™é‡Œç”±äºæœ‰ä¸Šä¸‡ä¸ªé¡¹ç›®ç»“ç‚¹ï¼Œä¸€å¼ å›¾ä¹Œæ¼†å˜›é»‘éƒ½çœ‹ä¸åˆ°ï¼Œå¹¶ä¸”å¾ˆå¡ã€‚æ‰€ä»¥ä¸‹é¢åªæˆªå–ç”¨æˆ·ç‚¹å’Œè¯­è¨€ç‚¹çš„å¯è§†åŒ–ã€‚

```python
import os
import json
from IPython.display import IFrame
from IPython.core.display import display 
from networkx.readwrite import json_graph
print ("Stats on the full graph" )
print (nx.info(g))
# åªæå–ç”¨æˆ·å’Œè¯­è¨€ç»“ç‚¹
mtsw_users = [n for n in g if g.node[n]['type'] == 'user'] +[n for n in g if g.node[n]['type'] == 'lang'] 
h = g.subgraph(mtsw_users)
print ("Stats on the extracted subgraph" )
print (nx.info(h))
# jsonå¯¼å‡º
d = json_graph.node_link_data(h)
json.dump(d, open('force.json', 'w'))
viz_file = 'files/force.html'
# D3å¯è§†åŒ–
display(IFrame(viz_file, '100%', '900px'))
```
ä¸‹é¢çš„åŠ¨æ€é¡µé¢åŠ è½½ä¸å‡ºè¯·ç‚¹å‡»[åŠ¨æ€å›¾](/html/force.html)  
<iframe src="/html/force.html" width="900" height="900" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no" allowtransparency="yes"></iframe>

å¦‚æœè¦åˆ†æè¯­è¨€ä¹‹é—´çš„å…³è”ï¼Œå…¶å®ä¹Ÿå¯ä»¥ä»ä¸€ä¸ªé¡¹ç›®ä¸­æ‹¿åˆ°å¤šä¸ªè¯­è¨€ï¼Œæ¯”å¦‚æ˜¯a,b,c,ç„¶ååšæ— å‘å›¾ï¼Œæ ‡è®°a-b-c æƒé‡ä¸º1ï¼Œå½“åœ¨å…¶ä»–é¡¹ç›®ä¸­è¿˜æœ‰a,båŒæ—¶å‡ºç°æ—¶,a-b æƒé‡ä¸º2ï¼Œä»¥æ­¤ç±»æ¨ï¼Œæœ€åç›´æ¥æ”¾mjwillsonçš„æˆå“:  
![](http://oc5ofszxe.bkt.clouddn.com/16-10-3/65135584.jpg)

## ref
- https://en.wikipedia.org/wiki/Centrality
- https://github.com/mjwillson/ProgLangVisualise
- https://developer.github.com/v3/
- http://networkx.github.io
- https://github.com/PyGithub/PyGithub
- Russell, Matthew A. Mining the Social Web: Data Mining Facebook, Twitter, LinkedIn, Google+, GitHub, and More. O'Reilly Media, Inc. 2013.
- Csardi, Gabor. "Eigenvalues and eigenvectors of the adjacency matrix of a graph.".
- BarthÃ©lemy, M. "Betweenness centrality in large complex networks." Physics 38.2(2004):163-168.


